<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
	<title>Edit Todo Page</title>
	<script th:src="@{/js/edit-todo.js}" defer></script>
</head>

<body class="bg-light">
	<div layout:fragment="content" class="container my-5">
		<div class="card shadow">
			<div class="card-header bg-dark text-white text-center">
				<h2 class="mb-0">Edit Todo</h2>
			</div>
			<div class="card-body">
				<div style="text-align: right;">
					<form id="deleteForm" th:action="@{/todo/delete/{id}(id=${todo.id})}" method="post" class="m-0">
						<button class="btn btn-danger btn-lg mx-2" type="button" id="deleteButton">Delete</button>
					</form>
				</div>
				<!-- Update Form -->
				<form th:action="@{/todo/update}" th:object="${todo}" method="post">
					<input type="hidden" name="id" id="todoId" th:value="*{id}">

					<!-- Created At -->
					<div class="mb-4">
						<label for="createdAt" class="form-label fs-5 fw-bold">Created At</label>
						<p class="form-control-plaintext fs-6 text-muted" id="createdAt" th:text="*{createdAt}"></p>
					</div>


					<!-- Title -->
					<div class="mb-4">
						<label for="title" class="form-label fs-5 fw-bold">Title</label>
						<input type="text" class="form-control form-control-lg" id="title" name="title"
							th:value="*{title}" required>
					</div>

					<!-- Description -->
					<div class="mb-4">
						<label for="description" class="form-label fs-5 fw-bold">Description</label>
						<textarea class="form-control form-control-lg" id="description" name="description" rows="4"
							th:text="*{description}"></textarea>
					</div>

					<!-- Completed -->
					<div class="mb-4">
						<label for="completed" class="form-label fs-5 fw-bold">Completed</label>
						<select class="form-select form-select-lg" id="completed" name="isCompleted">
							<option value="true" th:selected="*{isCompleted}">完了</option>
							<option value="false" th:selected="!*{isCompleted}">未完了</option>
						</select>
					</div>

					<!-- Buttons -->
					<div class="mt-5 d-flex">
						<!-- Update Button -->
						<button type="submit" class="btn btn-success btn-lg mx-2">Update</button>
						<!-- Back Button -->
						<button type="button" class="btn btn-secondary btn-lg mx-2"
							onclick="history.back()">Back</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>

</html>